# python File 持久化-文件操作
* 文件
    * 长久保存信息的一种数据信息集合
    * 常规操作
        * 打开关闭（文件一旦打开，需要关闭操作。如果只打开，不关闭，特定情况下可能造成内容丢失）
        * 读写内容
        * 查找内容
    * open 函数
        * open函数负责打开文件，带有很多参数
            * 1.文件路径
            * 2.mode：表明用什么方式打开，
                * r：只读方式打开，如果文件不存在，会异常
                * w：写方式打开，会覆盖之前的内容，如果文件不存在，自动创建
                * x：创建方式打开，如果文件名称重复，证明文件已经存在，则会出现异常
                * a：append方式，以追加的方式对文件内容进行写入
                * b：binary方式，二进制方式写入
                * t：以文本方式打开
                * +：可读写
        * with语句
            * with语句使用的技术是一种称为上下文管理协议的技术(ContexManagementProtocal)
            * 自动判断文件的作用域，自动关闭不再使用的打开的文件句柄
        * list 能用打开的文件作为参数，把文件内每一行内容作为一个元素
        * read 是按字符读取内容，允许输入参数决定读取几个字符，如果没有指定，从头读到尾，否则从当前位置读取指定个数字符
        * seek （offset,from）
            * 移动文件的读取位置，也叫读取指针
            * from 取值范围
                * 0：从文件头开始偏移
                * 1：从文件当前位置开始偏移
                * 2：从文件末尾开始偏移
            * 移动单位：字节，一个汉字由若干字节构成，返回文件只针对当前位置
        * tell函数：
            * 用来显示文件读写当前指针的位置
        * 文件的写入操作
            * write(str)：把字符串写入文件
            * writelines(str)：可以写入多行内容，参数可以是list格式
                * 区别：
                    * write：函数参数只能是字符串
                    * writeline：可以写入多行内容，参数可以是list格式
# 持久化 pickle 案例：case02.py
* 序列化（持久化，落地）：把程序运行中的信息保存到硬盘上
* 反序列化：序列化的逆向过程
* pickle：python提供的序列化模块
    * pickle.dump：序列化，序列化成文件的时候，只能是二进制
    * pickle.load：反序列化，反序列化的时候，需要注明二进制读取
* 与file的区别：
    * file只能保存文字化的信息
    * pickle：能存储程序运行过程信息，可以保存结构化的信息
        * 更多是用于一种过程加密信息，使用的时候需要比对，类似于游戏存盘操作
# 持久化 shelve 案例：case02.py
* 持久化工具
* 类似字典，用于kv对保存数据，存取方式跟字段也类似
* open，close
    * 会创建多个文件，不单单是db文件，还包括其他的配套文件
* shelve 特性
    * 不支持多个应用同时写入
        * 为了解决这个问题，open的时候，可以使用flag=r
    * 写回问题
        * shelv 默认情况下不会等待持久化对象进行任何修改  
        这里需要强制写回：writeback=True
            